/*! Tabbed TOC for Blogger V2 <https://dte-project.github.io/blogger/tabbed-toc.html> */
!function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return decodeURIComponent(e)}function a(e){return void 0!==e}function i(e){return"string"==typeof e}function l(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function s(e){return"object"==typeof e}function o(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function c(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)return+e;if(o(e))try{return JSON.parse(e)}catch(t){}}return e}function u(e,t,r){for(var n,a=t.split("["),i=0,l=a.length;l-1>i;++i)n=a[i].replace(/\]$/,""),e=e[n]||(e[n]={});e[a[i].replace(/\]$/,"")]=r}function d(e,t){var r={},i=e.replace(/^.*?\?/,"");return""===i?r:(i.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),l=n(i[0]),s=a(i[1])?n(i[1]):!0;s=!a(t)||t?c(s):s,"]"===l.slice(-1)?u(r,l,s):r[l]=s}),r)}function p(e,t,r){r&&(e=JSON.parse(JSON.stringify(e))),t=t||{};for(var n in t)null===t[n]&&a(e[n])?delete e[n]:s(t[n])&&s(e[n])?p(e[n],t[n]):e[n]=t[n];return e}function f(e,t,r){e.addEventListener(t,r,!1)}function h(e,r,n){if(e=t.createElement(e),a(r)&&""!==r&&(e.innerHTML=r),s(n))for(var i in n)n[i]!==!1&&e.setAttribute(i,n[i]);return e}function m(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function y(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function g(e,t,r){e.insertBefore(t,r)}function v(e){e.parentNode.removeChild(e)}function b(e,t){var n,a=[];for(n in e)a.push(r(n)+"="+r(e[n]));return"?"+a.join(t||"&")}function $(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),a(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function x(e){return l(e)?("file:"===L.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":$(e)+"/feeds/posts/summary"}function S(e,t,r){var n=/\.css$/i.test($(e)),a=h(n?"link":"script","",p(n?{href:e,rel:"stylesheet"}:{src:e},r));return a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t(a))}:f(a,"load",t),g(A,a,A.firstChild),a}function N(){if(F!==!1){var e=+(I.getItem(O)||-1);if(e>F)return I.setItem(O,0),!0;I.setItem(O,++e)}return!1}function M(e,t){var r,n=e.split("T"),a=n[0].split("-"),i=n[1].split("+")[0].split(":"),l={"M+":H.months[+a[1]-1],"D+":H.days[new Date(e).getDay()],Y:a[0],M:a[1],D:a[2],h:i[0],m:i[1],s:Math.floor(+i[2])+""};for(r in l)t=t.replace(RegExp("%"+r.replace("+","\\+"),"g"),l[r]);return t}function _(){var e=J.container,r=J.css;r&&S(i(r)?r:$(k.src,"css")),S(x(j)+b(p(J.query,{callback:"_"+(R-1),"max-results":0},1)),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),g(e,B)):g(k.parentNode,B,k),y(B.parentNode,O+"-loading");var r=J.active;l(r)&&(r=E[r]),w[r]&&w[r].click()})}var T,k=t.currentScript||t.getElementsByTagName("script").pop(),w={},E=[],C={},D=9999,L=e.location,I=e.localStorage,q={direction:"ltr",hash:Date.now(),url:L.protocol+"//"+L.host,name:"tabbed-toc",css:$(k.src,"css").replace(".alt.","."),sort:-1,ad:!0,active:0,container:0,date:"%D+, %D %M+ %Y %h:%m",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published","max-results":D,"start-index":1}},A=t.head,J=p(q,d(k.src)),R=J.hash,j=J.id||$(J.url),O=J.name,F=J.ad,H=J.text,B=h("div",'<h3 class="'+O+'-title">'+H.title+"</h3>",{"class":O+" "+J.direction,id:O+":"+R}),G=h("p",H.loading,{"class":O+"-loading"});F===!0&&(F=3);var U=d(L.search);a(U[R])&&(delete U[R].url,J=p(J,U[R])),e["_"+(R-1)]=function(e){S(x(j)+b(p(J.query,{callback:"_"+R,"max-results":1,"start-index":e.feed.openSearch$totalResults.$t},1)))},e["_"+R]=function(r){function n(e){T=this;var t=T.id.split(":")[1],r=T.innerHTML,n=B.parentNode,i=w[r];for(a in w)y(w[a],"active");for(a in C)C[a].style.display="none",C[a].previousSibling.style.display="none",y(C[a],"active");C[r].$||(m(i,"active loading"),g(B.children[2],G),m(n,O+"-loading"),S(x(j)+b(p(J.query,{callback:"_"+(R+1),"published-min":r+"-01-01T00:00:00","published-max":r+"-11-30T59:59:59"},1)),function(){y(n,O+"-loading"),y(i,"loading"),v(G)},{"class":O+"-js",id:O+"-js:"+t})),m(i,"active"),C[r].style.display="",C[r].previousSibling.style.display="",m(C[r],"active"),e.preventDefault()}r=r.feed||{};var a,s=J.sort,o=r.entry||[],c=[],u=0,d=r.updated.$t,$=o[0]&&o[0].published.$t||"1999",N=+d.split("-")[0],M=+$.split("-")[0];for(a=N;a>=M;--a)c.push({term:a+""}),++u;l(s)?(s=+s,c=c.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===s&&(c=c.reverse())):i(s)&&(s=e[s],c=c.sort(s));var _,k=h("nav","",{"class":O+"-tabs p"});for(g(B,k),g(B,h("section","",{"class":O+"-panels p"})),a=0;u>a;++a){var D=c[a].term;J.hide.indexOf(D)>-1||(_=h("a",D,{"class":O+"-tab "+O+"-tab:"+a,href:"#"+O+"-panel:"+R+"."+a,id:O+"-tab:"+R+"."+a,title:D}),E.push(D),w[D]=_,f(_,"click",n),g(k,_),u-1>a&&g(k,t.createTextNode(" ")),g(B.children[2],h("h4",D,{"class":O+"-title"})),g(B.children[2],C[D]=h("ol","",{"class":O+"-panel "+O+"-panel:"+a+" active",id:O+"-panel:"+R+"."+a})))}},e["_"+(R+1)]=function(t){function n(e){if(e){var t,r=e.published.$t,n="";for(s=0,o=e.link.length;o>s;++s)if("alternate"===e.link[s].rel){t=e.link[s].href;break}if(_){var a="media$thumbnail"in e;_===!0&&(_=80),n+='<p class="'+O+"-image"+(a?"":" no-image")+'">',n+=a?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(-c)?\//g,"/s"+_+"-c/")+'" style="display:block;width:'+_+"px;height:"+_+'px;">':'<span class="img" style="display:block;width:'+_+"px;height:"+_+'px;">',n+="</p>"}if(n+='<h5 class="'+O+'-title"><a href="'+t+'"'+($?' target="'+$+'"':"")+">"+e.title.$t+"</a></h5>",J.date&&(n+='<p class="'+O+'-time"><time datetime="'+r+'">'+M(r,J.date)+"</time></p>"),k){var i=e.summary.$t.trim().replace(/<.*?>/g,"").replace(/[<>]/g,""),l=i.length;k===!0&&(k=200),n+='<p class="'+O+"-excerpt"+(l?"":" no-excerpt")+'">'+i.slice(0,k)+(l>k?"&hellip;":"")+"</p>"}return h("li",n,{"class":e.$?"recent":!1})}}t=t.feed||{};var a,s,o,c=J.sort,u=T?T.innerHTML:"",d=t.entry||[],f=d.length,y=C[u];for(a=0;f>a;++a){var v=a>J.recent?"":H.recent;d[a].$=!!v,d[a].title.$t+=v}l(c)?(c=+c,d=d.sort(function(e,t){return e.published.$t.localeCompare(t.published.$t)}),-1===c&&(d=d.reverse())):i(c)&&(c=e[c],d=d.sort(c));var $=J.target,_=J.image,k=J.excerpt,w="has-title has-url";for(J.date&&(w+=" has-time"),_&&(w+=" has-image"),k&&(w+=" has-excerpt"),m(B,w),a=0;f>a;++a)g(y,n(d[a]));N()?(e["_"+R+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=n(t))&&(m(t,"ad"),g(y,t,y.firstChild))},S(x("298900102869691923")+b(p(J.query,{callback:"_"+R+"_","max-results":21},1))+"&q="+r(u.toLowerCase()))):delete e["_"+R+"_"],C[u].$=!0},l(J.load)?e.setTimeout(_,+J.load):J.load===!0?f(e,"load",_):_()}(window,document);