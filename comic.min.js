/*! Comic Viewer for Blogger V2 <https://dte-project.github.io/blogger/comic.html> */
!function(e,t){function r(e,t){function r(e){return decodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function s(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function o(e,t,r){for(var n,i=t.split("["),a=0,s=i.length;s-1>a;++a)n=i[a].replace(/\]$/,""),e=e[n]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}var l={},c=e.replace(/^.*?\?/,"");return""===c?l:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=r(i[0]),c=n(i[1])?r(i[1]):!0;c=!n(t)||t?s(c):c,"]"===a.slice(-1)?o(l,a,c):l[a]=c}),l)}e[t]=r}(window,"q2o"),function(e,t){function r(e){return void 0!==e}function n(e){return"string"==typeof e}function i(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function a(e){return null!==e&&"object"==typeof e}function s(e,t){t=t||{};for(var n in e)r(t[n])?a(e[n])&&a(t[n])&&(t[n]=s(e[n],t[n])):t[n]=e[n];return t}function o(e,t,r){e.addEventListener(t,r,!1)}function l(e,n,i){if(e=t.createElement(e),r(n)&&""!==n&&(e.innerHTML=n),a(i))for(var s in i)i[s]!==!1&&e.setAttribute(s,i[s]);return e}function c(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function f(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function u(e,t,r){t&&e.insertBefore(t,r)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),r(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function h(e){return("file:"===H.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary"}function g(e,t,r){var n=/\.css$/i.test(p(e)),i=l(n?"link":"script","",s(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t(i))}:t&&o(i,"load",t),u(S,i,S.firstChild),i}function v(e,t){return Math.floor(Math.random()*(t-e+1))+e}function m(e){return e.replace(/<\/?(\w+)(?:\s[^<>])?>/g,function(e,t){return/^a(bbr)?|br?|blockquote|c(aption|ite|ode)|del|h(r|[0-6])|ins|li|[ou]l|p(re)?|s(u[bp])?|t(able|body|head|foot|[dhr])|u|var$/i.test(t)?e:""}).trim()}function y(e,t){return e.replace(/\/[a-z]\d+(-[a-z](\d+)?)*\//,function(){return"/s"+t+"/"})}function b(e,t,r,n,i,a,s,o,l){var c,f,u,d=1,p=+Math.ceil(t/r),h="";if(1!==p){if(e>n+n?e>p-n-n?(f=p-n-n,u=p):(f=e-n,u=e+n):(f=d,u=Math.min(d+n+n,p)),s&&(h="<span>",h+=e===d?'<b title="'+s+'">'+s+"</b>":'<a href="'+i(e-1)+'" title="'+s+'" rel="prev">'+s+"</a>",h+="</span> "),a&&l){for(h+="<span>",f>d&&(h+='<a href="'+i(d)+'" title="'+a+'" rel="prev">'+d+"</a>",f>d+1&&(h+=" <span>&hellip;</span>")),c=f;u>=c;++c)h+=e===c?' <b title="'+c+'">'+c+"</b>":' <a href="'+i(c)+'" title="'+c+'" rel="'+(c>e?"next":"prev")+'">'+c+"</a>";p>u&&(p-1>u&&(h+=" <span>&hellip;</span>"),h+=' <a href="'+i(p)+'" title="'+l+'" rel="next">'+p+"</a>"),h+="</span>"}return o&&(h+=" <span>",h+=e===p?'<b title="'+o+'">'+o+"</b>":'<a href="'+i(e+1)+'" title="'+o+'" rel="next">'+o+"</a>",h+="</span>"),h}}function x(e){e&&(it.innerHTML=""),g(h("298900102869691923")+"?alt=json-in-script&max-results=0&callback=_"+E,function(){nt.style.height=""})}function w(e,r){if(e===!0)x();else{var n=t.createElement("img");n.src=e,o(n,"load",function(){this.width=this.offsetWidth,this.height=this.offsetHeight,++ot,r&&ot!==J||(f(V,"loading"),d(X),V.style.width=it.offsetWidth+"px",nt.style.height=it.offsetHeight+"px")}),o(n,"error",function(){c(V,"error"),d(X)}),c(V,"loading"),u(V,X,st),u(it,n)}}function $(e){if(f(V,"error"),f(V,"loading"),it.innerHTML="",i(e)){ot=0;for(var t=0;J>t&&Q[e][t];++t)w(Q[e][t],1)}else n(e)?w(e):x(1)}function L(e){st.innerHTML=n(e)?e:e>0?"<p>"+b(e,K,J,U,function(e){return"#"+q.replace("%i%",e)},B.first,B.previous,B.next,B.last)+"</p>":""}function k(){var e=q.replace("%i%","(-?(?:\\d*\\.)?\\d+)"),t=RegExp("^#?"+e+"$").exec(H.hash);t=t&&t[1]&&+t[1]||0,0===t?($(tt),L('<p><span><a href="#'+q.replace("%i%",1)+'">'+B.enter+"</a></span></p>")):0>t||t>K?(x(1),L()):($(t-1),L(t),u(st,l("h3",B.current.replace("%i%",t).replace("%i~%",+Math.ceil(K/J))),st.firstChild)),V.className=Y+" page-"+t}var M=e.q2o,N=t.currentScript||t.getElementsByTagName("script").pop(),H=e.location,T={i:Date.now(),hash:"!page=%i%",direction:"ltr",name:"comic",css:1,ad:!0,save:!0,source:".type\\:comic",find:"a[href],img[src]",container:0,image:1600,chunk:1,kin:2,top:0,text:{loading:"Loading&hellip;",first:"First",next:"Next",previous:"Previous",last:"Last",current:"Page %i% of %i~%",enter:"Read on&hellip;",exit:"Home"}},S=t.head,j=s(T,M(N.src)),C=t.querySelector(j.source);if(C){var E=j.i,q=j.hash,R=j.name,_=j.ad,B=j.text;_===!0&&(_=3);var z=M(H.search);r(z[E])&&(j=s(j,z[E]));var A,D,I,O,P=C.querySelectorAll(j.find),W=j.image,F=j.direction,J=j.chunk,U=j.kin,G={},K=0,Q=[],V=l("div",'<div class="'+R+"-image "+R+'-height" style="overflow:hidden;"'+(j.save?"":' oncontextmenu="return false;"')+'><div style="float:left;"></div></div><div class="'+R+'-content"></div><div class="'+R+'-controls"></div>',{"class":R+" "+R+"-width "+F+" loading",id:R+":"+E}),X=l("p",B.loading,{"class":R+"-loading"}),Y=V.className,Z=t.body,et=Z.parentNode;for(D=0,I=P.length;I>D;++D){for(O=P[D],A=y(O.href&&/\.(gif|jpe?g|png)$/i.test(O.href.split("?")[0])&&O.href||O.src,W);O!==C&&O.parentNode!==C;)O=O.parentNode;G[A]=O}for(D in G)d(G[D]);G=Object.keys(G),K=G.length;var tt=G.shift(),rt=V.children,nt=rt[0],it=nt.firstChild,at=rt[1],st=rt[2];for(at.innerHTML=m(C.innerHTML),_&&G.splice(v(1,K),0,!0),D=0;K>D;D+=J)Q.push(G.slice(D,D+J));var ot=0;k(),o(e,"hashchange",k),o(st,"click",function(e){var t,r=e.target;"a"===r.nodeName.toLowerCase()&&(t=V.getBoundingClientRect().top-j.top,Z.scrollTop+=t,et.scrollTop+=t,H.hash=r.hash,e.preventDefault())}),e["_"+(E+1)]=function(e){e=e.feed||{};var t,r,n,i=e.entry||[],a=i.length,s=l("ul","",{"class":R+"-ads"});if(a){for(t=0;_>t&&t!==_;++t){r=i[t],n="","media$thumbnail"in r&&(n='<img alt="" src="'+r.media$thumbnail.url.replace(/\/s\d+(-c)?\//,"/s80-c/")+'" width="80" height="80" style="width:80px;height:80px;">');var o=(r.link.find(function(e){return"alternate"===e.rel})||{}).href;o&&(n+='<h3><a href="'+o+'" target="_blank">'+e.title.$t+" &middot; "+r.title.$t+"</a></h3>",n+="<p>"+r.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").slice(0,400)+"&hellip;</p>",u(s,l("li",n)))}u(it,s),f(V,"error"),f(V,"loading"),d(X)}},e["_"+E]=function(e){e=e.feed||{};var t=v(1,+e.openSearch$totalResults.$t-_);g(h("298900102869691923")+"?alt=json-in-script&orderby=updated&start-index="+t+"&max-results="+_+"&callback=_"+(E+1))},N.id||(N.id=R+"-js"),c(N,R+"-js");var lt=j.container,ct=j.css;ct&&!t.getElementById(R+"-css")&&g(n(ct)?ct:p(N.src,"css"),0,{"class":R+"-css",id:R+"-css"}),lt&&(C.style.display="none",C=t.querySelector(lt)),C.innerHTML="",u(C,V)}}(window,document);