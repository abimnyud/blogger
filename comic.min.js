/*! Comic Viewer for Blogger V2 <https://dte-project.github.io/blogger/comic.html> */
!function(e,t){function n(e,t){function n(e){return decodeURIComponent(e)}function r(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function s(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function l(e,t,n){for(var r,i=t.split("["),a=0,s=i.length;s-1>a;++a)r=i[a].replace(/\]$/,""),e=e[r]||(e[r]={});e[i[a].replace(/\]$/,"")]=n}var o={},c=e.replace(/^.*?\?/,"");return""===c?o:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=n(i[0]),c=r(i[1])?n(i[1]):!0;c=!r(t)||t?s(c):c,"]"===a.slice(-1)?l(o,a,c):o[a]=c}),o)}e[t]=n}(window,"q2o"),function(e,t){function n(e){return void 0!==e}function r(e){return"string"==typeof e}function i(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function a(e){return null!==e&&"object"==typeof e}function s(e,t){t=t||{};for(var r in e)n(t[r])?a(e[r])&&a(t[r])&&(t[r]=s(e[r],t[r])):t[r]=e[r];return t}function l(e,t,n){e.addEventListener(t,n,!1)}function o(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),a(i))for(var s in i)i[s]!==!1&&e.setAttribute(s,i[s]);return e}function c(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.add(n)}function f(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.remove(n)}function u(e,t,n){t&&e.insertBefore(t,n)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function h(e){return("file:"===N.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary"}function g(e,t,n){var r=/\.css$/i.test(p(e)),i=o(r?"link":"script","",s(r?{href:e,rel:"stylesheet"}:{src:e},n));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t(i))}:t&&l(i,"load",t),u(j,i,j.firstChild),i}function v(e,t){return Math.floor(Math.random()*(t-e+1))+e}function m(e){return e.replace(/<\/?(\w+)(?:\s[^<>])?>/g,function(e,t){return/^a(bbr)?|br?|blockquote|c(aption|ite|ode)|del|h(r|[0-6])|ins|li|[ou]l|p(re)?|s(u[bp])?|t(able|body|head|foot|[dhr])|u|var$/i.test(t)?e:""}).trim()}function y(e,t){return e.replace(/\/[a-z]\d+(-[a-z](\d+)?)*\//,function(){return"/s"+t+"/"})}function b(e,t,n,r,i,a,s,l,o){var c,f,u,d=1,p=Math.ceil(t/n),h="";if(1!==p){if(e>r+r?e>p-r-r?(f=p-r-r,u=p):(f=e-r,u=e+r):(f=d,u=Math.min(d+r+r,p)),s&&(h="<span>",h+=e===d?'<b title="'+s+'">'+s+"</b>":'<a href="'+i(e-1)+'" title="'+s+'" rel="prev">'+s+"</a>",h+="</span> "),a&&o){for(h+="<span>",f>d&&(h+='<a href="'+i(d)+'" title="'+a+'" rel="prev">'+d+"</a>",f>d+1&&(h+=" <span>&hellip;</span>")),c=f;u>=c;++c)h+=e===c?' <b title="'+c+'">'+c+"</b>":' <a href="'+i(c)+'" title="'+c+'" rel="'+(c>e?"next":"prev")+'">'+c+"</a>";p>u&&(p-1>u&&(h+=" <span>&hellip;</span>"),h+=' <a href="'+i(p)+'" title="'+o+'" rel="next">'+p+"</a>"),h+="</span>"}return l&&(h+=" <span>",h+=e===p?'<b title="'+l+'">'+l+"</b>":'<a href="'+i(e+1)+'" title="'+l+'" rel="next">'+l+"</a>",h+="</span>"),h}}function x(e){e&&(at.innerHTML=""),g(h("298900102869691923")+"?alt=json&max-results=0&callback=_"+S,function(){var e=at.offsetWidth;X.style.width=e?e+"px":"100%",it.style.height=""})}function w(e,n){if(e===!0)x();else{var r=t.createElement("img");r.src=e,l(r,"load",function(){this.width=this.offsetWidth,this.height=this.offsetHeight,++ot,n&&ot!==U||(f(X,"loading"),d(Y),X.style.width=at.offsetWidth+"px",it.style.height=at.offsetHeight+"px")}),l(r,"error",function(){c(X,"error"),d(Y)}),c(X,"loading"),u(X,Y,lt),u(at,r)}}function $(e){if(f(X,"error"),f(X,"loading"),at.innerHTML="",i(e)){ot=0;for(var t=0;U>t&&V[e][t];++t)w(V[e][t],1)}else r(e)?w(e):x(1)}function k(e){lt.innerHTML=r(e)?e:e>0?"<p>"+b(e,Q,U,G,function(e){return"#"+I.replace("%i%",e)},O.first,O.previous,O.next,O.last)+"</p>":""}function L(){var e=I.replace("%i%","(-?(?:\\d*\\.)?\\d+)"),t=RegExp("^#?"+e+"$").exec(N.hash);t=t&&t[1]&&+t[1]||0,0===t?($(nt),k('<p><span><a href="#'+I.replace("%i%",1)+'">'+O.enter+"</a></span></p>")):0>t||t>Q?(x(1),k()):($(t-1),k(t),u(lt,o("h3",O.current.replace("%i%",t).replace("%i~%",Math.ceil(Q/U))),lt.firstChild)),X.className=Z+" page-"+t}var M=e.q2o,H=t.currentScript,N=e.location,S=Date.now(),T={i:S,hash:"!page=%i%",direction:"ltr",name:"comic",css:1,ad:!0,save:!0,source:".type\\:comic",find:"a[href],img[src]",container:0,image:1600,chunk:1,kin:2,top:0,text:{loading:"Loading&hellip;",first:"First",previous:"Previous",next:"Next",last:"Last",current:"Page %i% of %i~%",enter:"Read on&hellip;",exit:"Home"}},j=t.head,C=s(T,M(H.src)),q=t.querySelector(C.source);if(q){var E=C.i,R=C.name,_=C.ad;_===!0&&(_=3);var B=M(N.search);n(B[E])&&(C=s(C,B[E]));var W,z,A,D,I=C.hash,O=C.text,P=q.querySelectorAll(C.find),F=C.image,J=C.direction,U=C.chunk,G=C.kin,K={},Q=0,V=[],X=o("div",'<div class="'+R+"-image "+R+'-height" style="overflow:hidden;"'+(C.save?"":' oncontextmenu="return false;"')+'><div style="float:left;"></div></div><div class="'+R+'-content"></div><div class="'+R+'-controls"></div>',{"class":R+" "+R+"-width "+J+" loading",id:R+":"+E}),Y=o("p",O.loading,{"class":R+"-loading"}),Z=X.className,et=t.body,tt=et.parentNode;for(z=0,A=P.length;A>z;++z){for(D=P[z],W=y(D.href&&/\.(gif|jpe?g|png)$/i.test(D.href.split("?")[0])&&D.href||D.src,F);D!==q&&D.parentNode!==q;)D=D.parentNode;K[W]=D}for(z in K)d(K[z]);K=Object.keys(K),Q=K.length;var nt=K.shift(),rt=X.children,it=rt[0],at=it.firstChild,st=rt[1],lt=rt[2];for(st.innerHTML=m(q.innerHTML),_&&K.splice(v(1,Q),0,!0),z=0;Q>z;z+=U)V.push(K.slice(z,z+U));var ot=0;L(),l(e,"hashchange",L),l(lt,"click",function(e){var t,n=e.target,r=C.top;"a"===n.nodeName.toLowerCase()&&(r!==!1&&(t=X.getBoundingClientRect().top-r,et.scrollTop+=t,tt.scrollTop+=t),N.hash=n.hash,e.preventDefault())}),e["_"+(S+1)]=function(e){e=e.feed||{};var t,n,r,i=e.entry||[],a=i.length,s=o("ul","",{"class":R+"-ads"}),l=' style="display:block;width:80px;height:80px;">';if(a){for(t=0;_>t&&t!==_;++t){n=i[t],r="media$thumbnail"in n?'<img alt="" src="'+n.media$thumbnail.url.replace(/\/s\d+(-c)?\//,"/s80-c/")+'" width="80" height="80"'+l:'<span class="img"'+l+"</span>";var c=(n.link.find(function(e){return"alternate"===e.rel})||{}).href;c&&(r+='<h3><a href="'+c+'" target="_blank">'+e.title.$t+" &middot; "+n.title.$t+"</a></h3>",r+="<p>"+n.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").slice(0,400)+"&hellip;</p>",u(s,o("li",r)))}u(at,s),f(X,"error"),f(X,"loading"),d(Y)}},e["_"+S]=function(e){e=e.feed||{};var t=v(1,+e.openSearch$totalResults.$t-_);g(h("298900102869691923")+"?alt=json&orderby=updated&start-index="+t+"&max-results="+_+"&callback=_"+(S+1))},H.id||(H.id=R+"-js"),c(H,R+"-js");var ct=C.container,ft=C.css;ft&&!t.getElementById(R+"-css")&&g(r(ft)?ft:p(H.src,"css"),0,{"class":R+"-css",id:R+"-css"}),ct&&(q.style.display="none",q=t.querySelector(ct)),q.innerHTML="",u(q,X)}}(window,document);