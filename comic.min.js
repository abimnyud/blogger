/*! Comic Viewer for Blogger V2 <https://dte-project.github.io/blogger/comic.html> */
!function(e,t){function n(e,t){function n(e){return decodeURIComponent(e)}function r(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function s(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function l(e,t,n){for(var r,i=t.split("["),a=0,s=i.length;s-1>a;++a)r=i[a].replace(/\]$/,""),e=e[r]||(e[r]={});e[i[a].replace(/\]$/,"")]=n}var o={},c=e.replace(/^.*?\?/,"");return""===c?o:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=n(i[0]),c=r(i[1])?n(i[1]):!0;c=!r(t)||t?s(c):c,"]"===a.slice(-1)?l(o,a,c):o[a]=c}),o)}e[t]=n}(window,"q2o"),function(e,t){function n(e){return void 0!==e}function r(e){return"string"==typeof e}function i(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function a(e){return null!==e&&"object"==typeof e}function s(e,t){t=t||{};for(var r in e)n(t[r])?a(e[r])&&a(t[r])&&(t[r]=s(e[r],t[r])):t[r]=e[r];return t}function l(e,t,n){e.addEventListener(t,n,!1)}function o(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),a(i))for(var s in i)i[s]!==!1&&e.setAttribute(s,i[s]);return e}function c(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.add(n)}function u(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.remove(n)}function d(e,t,n){t&&e.insertBefore(t,n)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function h(e){return("file:"===S.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary"}function m(e,t,n){var r=/\.css$/i.test(p(e)),i=o(r?"link":"script","",s(r?{href:e,rel:"stylesheet"}:{src:e},n));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t(i))}:t&&l(i,"load",t),d(L,i,L.firstChild),i}function g(e,t,n){n=n||[],n.unshift(t),"function"==typeof _&&_.apply(e,n)}function v(e,t){return Math.floor(Math.random()*(t-e+1))+e}function y(e){return e.replace(/<\/?(\w+)(?:\s[^<>])?>/g,function(e,t){return/^a(bbr)?|br?|blockquote|c(aption|ite|ode)|del|h(r|[0-6])|ins|li|[ou]l|p(re)?|s(u[bp])?|t(able|body|head|foot|[dhr])|u|var$/i.test(t)?e:""}).trim()}function b(e,t){return e.replace(/\/[a-z]\d+(-[a-z](\d+)?)*\//,function(){return"/s"+t+"/"})}function $(e,t,n,r,i,a,s,l,o){var c,u,d,f=1,p=Math.ceil(t/n),h="";if(1!==p){if(e>r+r?e>p-r-r?(u=p-r-r,d=p):(u=e-r,d=e+r):(u=f,d=Math.min(f+r+r,p)),s&&(h="<span>",h+=e===f?'<b title="'+s+'">'+s+"</b>":'<a href="'+i(e-1)+'" title="'+s+'" rel="prev">'+s+"</a>",h+="</span> "),a&&o){for(h+="<span>",u>f&&(h+='<a href="'+i(f)+'" title="'+a+'" rel="prev">'+f+"</a>",u>f+1&&(h+=" <span>&hellip;</span>")),c=u;d>=c;++c)h+=e===c?' <b title="'+c+'">'+c+"</b>":' <a href="'+i(c)+'" title="'+c+'" rel="'+(c>e?"next":"prev")+'">'+c+"</a>";p>d&&(p-1>d&&(h+=" <span>&hellip;</span>"),h+=' <a href="'+i(p)+'" title="'+o+'" rel="next">'+p+"</a>"),h+="</span>"}return l&&(h+=" <span>",h+=e===p?'<b title="'+l+'">'+l+"</b>":'<a href="'+i(e+1)+'" title="'+l+'" rel="next">'+l+"</a>",h+="</span>"),h}}function x(e){e&&(lt.innerHTML=""),m(h("298900102869691923")+"?alt=json&max-results=0&callback=_"+T,function(){var e=lt.offsetWidth;Z.style.width=e?e+"px":"100%",st.style.height=""})}function w(e,n){if(e===!0)x();else{var r=t.createElement("img");r.src=e,l(r,"load",function(){this.width=this.offsetWidth,this.height=this.offsetHeight,++ut,n&&ut!==G||(u(Z,"loading"),f(et),Z.style.width=lt.offsetWidth+"px",st.style.height=lt.offsetHeight+"px"),g(this,"load.asset",[this.src])}),l(r,"error",function(){c(Z,"error"),f(et),g(this,"error.asset",[this.src])}),c(Z,"loading"),d(Z,et,ct),d(lt,r)}}function k(e){if(u(Z,"error"),u(Z,"loading"),lt.innerHTML="",i(e)){ut=0;for(var t=0;G>t&&X[e][t];++t)w(X[e][t],1)}else r(e)?w(e):x(1)}function N(e){ct.innerHTML=r(e)?e:e>0?"<p>"+$(e,V,G,K,function(e){return"#"+U.replace("%i%",e)},W.first,W.previous,W.next,W.last)+"</p>":""}function M(e){var t=U.replace("%i%","(-?(?:\\d*\\.)?\\d+)"),n=RegExp("^#?"+t+"$").exec(S.hash);n=n&&n[1]&&+n[1]||0,0===n?(k(it),N('<p><span><a href="#'+U.replace("%i%",1)+'">'+W.enter+"</a></span></p>")):0>n||n>V?(x(1),N()):(k(n-1),N(n),d(ct,o("h3",W.current.replace("%i%",n).replace("%i~%",Math.ceil(V/G))),ct.firstChild)),Z.className=tt+" page-"+n,e&&g(Z,"change",[n])}var j=e.q2o,C=t.currentScript,S=e.location,T=Date.now(),E={i:T,hash:"!page=%i%",direction:"ltr",name:"comic",css:1,ad:!0,save:!0,source:".type\\:comic",find:"a[href],img[src]",container:0,image:1600,chunk:1,kin:2,top:0,text:{loading:"Loading&hellip;",first:"First",previous:"Previous",next:"Next",last:"Last",current:"Page %i% of %i~%",enter:"Read on&hellip;",exit:"Home"}},L=t.head,I=s(E,j(C.src)),H=t.querySelector(I.source);if(H){var q=I.i,D=I.name,B=I.ad,_=I.e;_=_&&e[_],B===!0&&(B=3);var O=j(S.search);n(O[q])&&(I=s(I,O[q]));var R,J,A,F,U=I.hash,W=I.text,Y=H.querySelectorAll(I.find),P=I.image,z=I.direction,G=I.chunk,K=I.kin,Q={},V=0,X=[],Z=o("div",'<div class="'+D+"-image "+D+'-height" style="overflow:hidden;"'+(I.save?"":' oncontextmenu="return false;"')+'><div style="float:left;"></div></div><div class="'+D+'-content"></div><div class="'+D+'-controls"></div>',{"class":D+" "+D+"-width "+z+" loading",id:D+":"+q}),et=o("p",W.loading,{"class":D+"-loading"}),tt=Z.className,nt=t.body,rt=nt.parentNode;for(J=0,A=Y.length;A>J;++J){for(F=Y[J],R=b(F.href&&/\.(gif|jpe?g|png)$/i.test(F.href.split("?")[0])&&F.href||F.src,P);F!==H&&F.parentNode!==H;)F=F.parentNode;Q[R]=F}for(J in Q)f(Q[J]);Q=Object.keys(Q),V=Q.length;var it=Q.shift(),at=Z.children,st=at[0],lt=st.firstChild,ot=at[1],ct=at[2];for(ot.innerHTML=y(H.innerHTML),B&&Q.splice(v(1,V),0,!0),J=0;V>J;J+=G)X.push(Q.slice(J,J+G));var ut=0;M(),l(e,"hashchange",M),l(ct,"click",function(e){var t,n=e.target,r=I.top;"a"===n.nodeName.toLowerCase()&&(r!==!1&&(t=Z.getBoundingClientRect().top-r,nt.scrollTop+=t,rt.scrollTop+=t),S.hash=n.hash,g(n,"click",[n.href]),e.preventDefault())}),e["_"+(T+1)]=function(e){e=e.feed||{};var t,n,r,i=e.entry||[],a=i.length,s=o("ul","",{"class":D+"-ads"}),l=' style="display:block;width:80px;height:80px;">';if(a){for(t=0;B>t&&t!==B;++t){n=i[t],r="media$thumbnail"in n?'<img alt="" src="'+n.media$thumbnail.url.replace(/\/s\d+(-c)?\//,"/s80-c/")+'" width="80" height="80"'+l:'<span class="img"'+l+"</span>";var c=(n.link.find(function(e){return"alternate"===e.rel})||{}).href;c&&(r+='<h3><a href="'+c+'" target="_blank">'+e.title.$t+" &middot; "+n.title.$t+"</a></h3>",r+="<p>"+n.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").slice(0,400)+"&hellip;</p>",d(s,o("li",r)))}d(lt,s),u(Z,"error"),u(Z,"loading"),f(et),g(s,"load.ad",[e])}},e["_"+T]=function(e){e=e.feed||{};var t=v(1,+e.openSearch$totalResults.$t-B);m(h("298900102869691923")+"?alt=json&orderby=updated&start-index="+t+"&max-results="+B+"&callback=_"+(T+1))},C.id||(C.id=D+"-js"),c(C,D+"-js");var dt=I.container,ft=I.css;ft&&!t.getElementById(D+"-css")&&m(r(ft)?ft:p(C.src,"css"),function(){g(this,"load.asset",[this.href])},{"class":D+"-css",id:D+"-css"}),dt&&(H.style.display="none",H=t.querySelector(dt)),H.innerHTML="",d(H,Z),g(Z,"ready",[I])}}(window,document);