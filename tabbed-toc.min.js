/*! Tabbed TOC for Blogger V2 <https://dte-project.github.io/blogger/tabbed-toc.html> */
!function(e,t){function n(e,t){function n(e){return decodeURIComponent(e)}function r(e){return void 0!==e}function a(e){return"string"==typeof e}function i(e){return a(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function l(e){if(a(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)return+e;if(i(e))try{return JSON.parse(e)}catch(t){}}return e}function s(e,t,n){for(var r,a=t.split("["),i=0,l=a.length;l-1>i;++i)r=a[i].replace(/\]$/,""),e=e[r]||(e[r]={});e[a[i].replace(/\]$/,"")]=n}var o={},c=e.replace(/^.*?\?/,"");return""===c?o:(c.split(/&(?:amp;)?/).forEach(function(e){var a=e.split("="),i=n(a[0]),c=r(a[1])?n(a[1]):!0;c=!r(t)||t?l(c):c,"]"===i.slice(-1)?s(o,i,c):o[i]=c}),o)}e[t]=n}(window,"q2o"),function(e,t){function n(e){return encodeURIComponent(e)}function r(e){return void 0!==e}function a(e){return"string"==typeof e}function i(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function l(e){return null!==e&&"object"==typeof e}function s(e,t){t=t||{};for(var n in e)r(t[n])?l(e[n])&&l(t[n])&&(t[n]=s(e[n],t[n])):t[n]=e[n];return t}function o(e,t,n){e.addEventListener(t,n,!1)}function c(e,n,a){if(e=t.createElement(e),r(n)&&""!==n&&(e.innerHTML=n),l(a))for(var i in a)a[i]!==!1&&e.setAttribute(i,a[i]);return e}function u(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.add(n)}function d(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.remove(n)}function p(e,t,n){e.insertBefore(t,n)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){var r,a=[];for(r in e)a.push(n(r)+"="+n(e[r]));return"?"+a.join(t||"&")}function m(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),r(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function v(e){return i(e)?("file:"===C.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":m(e)+"/feeds/posts/summary"}function y(e,t,n){var r=/\.css$/i.test(m(e)),a=c(r?"link":"script","",s(r?{href:e,rel:"stylesheet"}:{src:e},n));return a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t(a))}:o(a,"load",t),p(M,a,M.firstChild),a}function g(){if(D!==!1){var e=+(j.getItem(B)||-1);if(e>D)return j.setItem(B,0),!0;j.setItem(B,++e)}return!1}function b(e,t){var n,r=e.split("T"),a=r[0].split("-"),i=r[1].split("+")[0].split(":"),l=+i[0],s=l%12||12,o={"M\\+":q.months[+a[1]-1],"D\\+":q.days[new Date(e).getDay()],"h\\+":l+"",Y:a[0],M:a[1],D:a[2],h:s+"",m:i[1],s:Math.floor(+i[2])+"","\\?":q.midday[12>s||24===s?0:1]};for(n in o)t=t.replace(RegExp("%"+n,"g"),o[n]);return t}function $(){var e=T.container,n=T.css;n&&y(a(n)?n:m(w.src,"css")),y(v(L)+h(s(T.query,{callback:"_"+_,"max-results":0})),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),p(e,R)):p(w.parentNode,R,w),d(R.parentNode,B+"-loading");var n=T.active;i(n)&&(n=x[n]),N[n]&&N[n].click()})}var E,w=t.currentScript||t.getElementsByTagName("script").pop(),N={},x=[],I={},S=9999,C=e.location,j=e.localStorage,k={direction:"ltr",hash:Date.now(),url:C.protocol+"//"+C.host,name:"tabbed-toc",css:1,sort:1,ad:!0,active:0,container:0,date:"%M+ %D, %Y %h:%m %?",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",midday:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published","max-results":S,"start-index":1}},M=t.head,T=s(k,q2o(w.src)),_=T.hash,L=T.id||m(T.url),B=T.name,D=T.ad,q=T.text,R=c("div",'<h3 class="'+B+'-title">'+q.title+"</h3>",{"class":B+" "+T.direction,id:B+":"+_}),O=c("p",q.loading,{"class":B+"-loading"});D===!0&&(D=3);var A=q2o(C.search);r(A[_])&&(delete A[_].url,T=s(T,A[_])),e["_"+_]=function(r){function l(e){E=this;var t=E.id.split(":")[1],r=E.innerHTML,a=R.parentNode,i=N[r],l=I[r];for(g in N)g!==r&&d(N[g],"active");for(g in I)g!==r&&(d(I[g],"active"),I[g].style.display="none",I[g].previousSibling.style.display="none");l.$||(u(i,"loading"),u(l,"loading"),p(R.children[2],O),u(a,B+"-loading"),y(v(L)+"/-/"+n(r)+h(s(T.query,{callback:"_"+(_+1)})),function(){d(a,B+"-loading"),d(i,"loading"),d(l,"loading"),f(O)},{"class":B+"-js",id:B+"-js:"+t})),u(i,"active"),u(l,"active"),l.style.display="",l.previousSibling.style.display="",e.preventDefault()}r=r.feed||{};var g,b=T.sort,$=r.entry||[],w=r.category||[],S=($.length,w.length);i(b)?(b=+b,w=w.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===b&&(w=w.reverse())):a(b)&&(b=e[b],w=w.sort(b));var C,j=c("nav","",{"class":B+"-tabs p"});p(R,j),p(R,c("section","",{"class":B+"-panels p"}));var k=Object.values(T.hide);for(g=0;S>g;++g){var M=w[g].term;k.indexOf(M)>-1||(C=c("a",M,{"class":B+"-tab "+B+"-tab:"+g,href:m(T.url)+"/search/label/"+n(M),id:B+"-tab:"+_+"."+g,title:M}),x.push(M),N[M]=C,o(C,"click",l),p(j,C),S-1>g&&p(j,t.createTextNode(" ")),p(R.children[2],c("h4",M,{"class":B+"-title"})),p(R.children[2],I[M]=c("ol","",{"class":B+"-panel "+B+"-panel:"+g,id:B+"-panel:"+_+"."+g})))}},e["_"+(_+1)]=function(t){function r(e){if(e){var t,n=e.published.$t,r="";for(o=0,d=e.link.length;d>o;++o)if("alternate"===e.link[o].rel){t=e.link[o].href;break}if(C){var a,l,s,u="media$thumbnail"in e;C===!0&&(C=80),i(C)?(a=l=C+"px",C="s"+C+"-c"):(s=/^s(\d+)(\-[cp])?$/.exec(C))?(a=s[1]+"px",l=s[2]?s[1]+"px":"auto"):(s=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(C))&&(a=s[1]+"px",l=s[2]+"px"),r+='<p class="'+B+"-image"+(u?"":" no-image")+' loading">';var p="this.removeAttribute('",p=","+p+"onload'),"+p+"onerror')";r+=u?'<img class="loading" onload="this.parentNode.classList.remove(\'loading\')'+p+";\" onerror=\"this.parentNode.classList.add('error')"+p+';" alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+C+"/")+'" style="display:block;width:'+a+";height:"+l+';">':'<span class="img" style="display:block;width:'+a+";height:"+l+';">',r+="</p>"}if(r+='<h5 class="'+B+'-title"><a href="'+t+'"'+(S?' target="'+S+'"':"")+">"+e.title.$t+"</a></h5>",T.date&&(r+='<p class="'+B+'-time"><time datetime="'+n+'">'+b(n,T.date)+"</time></p>"),j){var f=e.summary.$t.trim().replace(/<.*?>/g,"").replace(/[<>]/g,""),h=f.length;j===!0&&(j=200),r+='<p class="'+B+"-excerpt"+(h?"":" no-excerpt")+'">'+f.slice(0,j)+(h>j?"&hellip;":"")+"</p>"}return c("li",r,{"class":e.$?"recent":!1})}}t=t.feed||{};var l,o,d,f=T.sort,m=E?E.innerHTML:"",$=t.entry||[],w=$.length,N=I[m];for(l=0;w>l;++l){var x=l>T.recent?"":q.recent;$[l].$=!!x,$[l].title.$t+=x}i(f)?(f=+f,$=$.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===f&&($=$.reverse())):a(f)&&(f=e[f],$=$.sort(f));var S=T.target,C=T.image,j=T.excerpt,k="has-title has-url";for(T.date&&(k+=" has-time"),C&&(k+=" has-image"),j&&(k+=" has-excerpt"),u(R,k),l=0;w>l;++l)p(N,r($[l]));g()?(e["_"+_+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=r(t))&&(u(t,"ad"),p(N,t,N.firstChild))},y(v("298900102869691923")+h(s(T.query,{callback:"_"+_+"_","max-results":21,orderby:"updated"}))+"&q="+n(m.toLowerCase()))):delete e["_"+_+"_"],I[m].$=!0},i(T.load)?e.setTimeout($,+T.load):T.load===!0?o(e,"load",$):$()}(window,document);