/*! Tabbed TOC for Blogger V2 <https://dte-project.github.io/blogger/tabbed-toc.html> */
!function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return decodeURIComponent(e)}function i(e){return void 0!==e}function a(e){return"string"==typeof e}function l(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function s(e){return"object"==typeof e}function o(e){return a(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function c(e){if(a(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)return+e;if(o(e))try{return JSON.parse(e)}catch(t){}}return e}function u(e,t,r){for(var n,i=t.split("["),a=0,l=i.length;l-1>a;++a)n=i[a].replace(/\]$/,""),e=e[n]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}function d(e,t){var r={},a=e.replace(/^.*?\?/,"");return""===a?r:(a.split(/&(?:amp;)?/).forEach(function(e){var a=e.split("="),l=n(a[0]),s=i(a[1])?n(a[1]):!0;s=!i(t)||t?c(s):s,"]"===l.slice(-1)?u(r,l,s):r[l]=s}),r)}function f(e,t){t=t||{};for(var r in t)null===t[r]&&i(e[r])?delete e[r]:s(t[r])&&s(e[r])?f(e[r],t[r]):e[r]=t[r];return e}function p(e,t,r){e.addEventListener(t,r,!1)}function h(e,r,n){if(e=t.createElement(e),i(r)&&""!==r&&(e.innerHTML=r),s(n))for(var a in n)n[a]!==!1&&e.setAttribute(a,n[a]);return e}function m(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function y(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function v(e,t,r){e.insertBefore(t,r)}function g(e){e.parentNode.removeChild(e)}function b(e,t){var n,i=[];for(n in e)i.push(r(n)+"="+r(e[n]));return"?"+i.join(t||"&")}function $(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),i(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function N(e){return l(e)?("file:"===C.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":$(e)+"/feeds/posts/summary"}function x(e,t,r){var n=/\.css$/i.test($(e)),i=h(n?"link":"script","",f(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t(i))}:p(i,"load",t),v(A,i,A.firstChild),i}function _(){if(O!==!1){var e=+(D.getItem(H)||-1);if(e>O)return D.setItem(H,0),!0;D.setItem(H,++e)}return!1}function M(e,t){var r,n=e.split("T"),i=n[0].split("-"),a=n[1].split("+")[0].split(":"),l={"M+":G.months[+i[1]-1],"D+":G.days[new Date(e).getDay()],Y:i[0],M:i[1],D:i[2],h:a[0],m:a[1],s:Math.floor(+a[2])+""};for(r in l)t=t.replace(RegExp("%"+r.replace("+","\\+"),"g"),l[r]);return t}function S(){F.css&&x($(q.src,"css")),x(N(J)+b(f(F.query,{callback:"_"+j,"max-results":0})),function(){var e=F.container;e?(e=t.querySelector(e),e&&(e.innerHTML=""),v(e,U)):v(q.parentNode,U,q),y(U.parentNode,H+"-loading");var r=F.active;l(r)&&(r=w[r]),T[r]&&T[r].click()})}var E,T={},w=[],k={},I=9999,C=e.location,D=e.localStorage,L={direction:"ltr",hash:Date.now(),url:C.protocol+"//"+C.host,name:"tabbed-toc",css:1,sort:1,ad:!0,active:0,container:0,date:"%D+, %D %M+ %Y %h:%m",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published"}},A=t.head,R=t.body,q=(R.parentNode,t.currentScript||t.getElementsByTagName("script").pop()),F=f(L,d(q.src)),j=F.hash,J=$(F.url),H=F.name,O=F.ad,G=F.text,U=h("div",'<h3 class="'+H+'-title">'+G.title+"</h3>",{"class":H+" "+F.direction,id:H+":"+j}),B=h("p",G.loading,{"class":H+"-loading"});O===!0&&(O=3);var Y=d(C.search);i(Y[j])&&(delete Y[j].url,F=f(F,Y[j])),e["_"+j]=function(n){function i(e){E=this;var t=E.id.split(":")[1],n=E.innerHTML,i=U.parentNode,a=T[n];for(s in T)y(T[s],"active");for(s in k)k[s].style.display="none",k[s].previousSibling.style.display="none",y(k[s],"active");k[n].$||(m(a,"active loading"),v(U.children[2],B),m(i,H+"-loading"),x(N(J)+"/-/"+r(n)+b(f(F.query,{callback:"_"+(j+1),"max-results":I})),function(){y(i,H+"-loading"),y(a,"loading"),g(B)},{"class":H+"-js",id:H+"-js:"+t})),m(a,"active"),k[n].style.display="",k[n].previousSibling.style.display="",m(k[n],"active"),e.preventDefault()}n=n.feed||{};var s,o=n.entry||[],c=n.category||[],u=(o.length,c.length),d=F.sort;l(d)?(d=+d,c=c.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===d&&(c=c.reverse())):a(d)&&(d=e[d],c=c.sort(d));var $,_=h("nav","",{"class":H+"-tabs p"});for(v(U,_),v(U,h("section","",{"class":H+"-panels p"})),s=0;u>s;++s){var M=c[s].term;F.hide.indexOf(M)>-1||($=h("a",M,{"class":H+"-tab "+H+"-tab:"+s,href:"#"+H+"-panel:"+j+"."+s,id:H+"-tab:"+j+"."+s,title:M}),w.push(M),T[M]=$,p($,"click",i),v(_,$),u-1>s&&v(_,t.createTextNode(" ")),v(U.children[2],h("h4",M,{"class":H+"-title"})),v(U.children[2],k[M]=h("ol","",{"class":H+"-panel "+H+"-panel:"+s+" active",id:H+"-panel:"+j+"."+s})))}},e["_"+(j+1)]=function(t){function n(e){if(e){var t,r=e.published.$t,n="";for(s=0,o=e.link.length;o>s;++s)if("alternate"===e.link[s].rel){t=e.link[s].href;break}if(n+='<h5 class="'+H+'-title"><a href="'+t+'"'+($?' target="'+$+'"':"")+">"+e.title.$t+"</a></h5>",F.date&&(n+='<p class="'+H+'-time"><time datetime="'+r+'">'+M(r,F.date)+"</time></p>"),S){var i="media$thumbnail"in e;S===!0&&(S=80),n+='<p class="'+H+"-image"+(i?"":" no-image")+'">',n+=i?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(-c)?\//g,"/s"+S+"-c/")+'" style="display:block;width:'+S+"px;height:"+S+'px;">':'<span class="img" style="display:block;width:'+S+"px;height:"+S+'px;">',n+="</p>"}if(T){var a=e.summary.$t.trim().replace(/<.*?>/g,"").replace(/[<>]/g,""),l=a.length;T===!0&&(T=200),n+='<p class="'+H+"-excerpt"+(l?"":" no-excerpt")+'">'+a.slice(0,T)+(l>T?"&hellip;":"")+"</p>"}return h("li",n,{"class":e.$?"recent":!1})}}t=t.feed||{};var i,s,o,c=(E?E.id.split(":")[1].split(".")[1]:"",E?E.innerHTML:""),u=t.entry||[],d=u.length,p=k[c];for(i=0;d>i;++i){var y=i>F.recent?"":G.recent;u[i].$=!!y,u[i].title.$t+=y}var g=F.sort;l(g)?(g=+g,u=u.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===g&&(u=u.reverse())):a(g)&&(g=e[g],u=u.sort(g));var $=F.target,S=F.image,T=F.excerpt,w="has-title has-url";for(F.date&&(w+=" has-time"),S&&(w+=" has-image"),T&&(w+=" has-excerpt"),m(U,w),i=0;d>i;++i)v(p,n(u[i]));_()?(e["_"+j+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=n(t))&&(m(t,"ad"),v(p,t,p.firstChild))},x(N("298900102869691923")+b(f(F.query,{callback:"_"+j+"_","max-results":21}))+"&q="+r(c.toLowerCase()))):delete e["_"+j+"_"],k[c].$=!0},l(F.load)?e.setTimeout(S,+F.load):F.load===!0?p(e,"load",S):S()}(window,document);