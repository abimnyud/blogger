/*! Tabbed TOC for Blogger V2 <https://dte-project.github.io/blogger/tabbed-toc.html> */
!function(e,t){function r(e,t){function r(e){return decodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function s(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function l(e,t,r){for(var n,i=t.split("["),a=0,s=i.length;s-1>a;++a)n=i[a].replace(/\]$/,""),e=e[n]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}var o={},c=e.replace(/^.*?\?/,"");return""===c?o:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=r(i[0]),c=n(i[1])?r(i[1]):!0;c=!n(t)||t?s(c):c,"]"===a.slice(-1)?l(o,a,c):o[a]=c}),o)}e[t]=r}(window,"q2o"),function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function s(e){return null!==e&&"object"==typeof e}function l(e,t){t=t||{};for(var r in e)n(t[r])?s(e[r])&&s(t[r])&&(t[r]=l(e[r],t[r])):t[r]=e[r];return t}function o(e,t,r){e.addEventListener(t,r,!1)}function c(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),s(i))for(var a in i)i[a]!==!1&&e.setAttribute(a,i[a]);return e}function d(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function u(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function f(e,t){return e.classList.contains(t)}function p(e,t,r){t&&e.insertBefore(t,r)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){var n,i=[];for(n in e)i.push(r(n)+"="+r(e[n]));return"?"+i.join(t||"&")}function g(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function y(e){return a(e)?("file:"===C.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":g(e)+"/feeds/posts/summary"}function v(e,t,r){var n=/\.css$/i.test(g(e)),i=c(n?"link":"script","",l(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t(i))}:t&&o(i,"load",t),p(D,i,D.firstChild),i}function b(){if(H!==!1){var e=+(j.getItem(I)||-1);if(e>H)return j.setItem(I,0),!0;j.setItem(I,++e)}return!1}function x(e,t){var r,n=e.split("T"),i=n[0].split("-"),a=n[1].split("+")[0].split(":"),s=+a[0],l=s%12||12,o={"M~":O.months[+i[1]-1],"D~":O.days[new Date(e).getDay()],"h~":s+"",Y:i[0],M:i[1],D:i[2],h:l+"",m:a[1],s:Math.floor(+a[2])+"","\\?":O.midday[12>l||24===l?0:1]};for(r in o)t=t.replace(/\\%/g,"&#37;").replace(RegExp("%"+r+"%","g"),o[r]);return t}function $(){N.id||(N.id=I+"-js"),d(N,I+"-js");var e=L.container,r=L.css;r&&!t.getElementById(I+"-css")&&v(i(r)?r:g(N.src,"css"),0,{"class":I+"-css",id:I+"-css"}),v(y(E)+m(l(L.query,{callback:"_"+_,"max-results":0})),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),p(e,A)):p(N.parentNode,A,N),u(A.parentNode,I+"-loading");var r=L.active;a(r)&&(r=k[r]),M[r]&&M[r].click()})}var w=e.q2o,N=t.currentScript||t.getElementsByTagName("script").pop(),M={},k=[],S={},T=9999,C=e.location,j=e.localStorage,q={i:Date.now(),direction:"ltr",url:C.protocol+"//"+C.host,name:"tabbed-toc",css:1,sort:1,ad:!0,active:0,container:0,date:"%M~% %D%, %Y% %h%:%m% %?%",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",midday:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published","max-results":T,"start-index":1}},D=t.head,L=l(q,w(N.src)),_=L.i,E=L.id||g(L.url),I=L.name,H=L.ad,O=L.text,A=c("div",'<h3 class="'+I+'-title">'+O.title+"</h3>",{"class":I+" "+L.direction,id:I+":"+_}),B=c("p",O.loading,{"class":I+"-loading"});H===!0&&(H=3);var J=w(C.search);n(J[_])&&(delete J[_].url,L=l(L,J[_])),e["_"+_]=function(n){function s(e){var t=this.id.split(":")[1],n=this.title,i=A.parentNode,a=M[n],s=S[n];for(f in M)f!==n&&u(M[f],"active");for(f in S)f!==n&&(u(S[f],"active"),S[f].style.display="none",S[f].previousSibling.style.display="none");s.$||(d(a,"loading"),d(s,"loading"),p(A.children[2],B),d(i,I+"-loading"),v(y(E)+"/-/"+r(n)+m(l(L.query,{callback:"_"+(_+1)})),function(){u(i,I+"-loading"),u(a,"loading"),u(s,"loading"),h(B)},{"class":I+"-js",id:I+"-js:"+t})),d(a,"active"),d(s,"active"),s.style.display="",s.previousSibling.style.display="",e.preventDefault()}n=n.feed||{};var f,b=L.sort,x=n.entry||[],$=n.category||[],w=(x.length,$.length);a(b)?(b=+b,$=$.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===b&&($=$.reverse())):i(b)&&(b=e[b],$=$.sort(b));var N,T=c("nav","",{"class":I+"-tabs p"});p(A,T),p(A,c("section","",{"class":I+"-panels p"}));var C=Object.values(L.hide);for(f=0;w>f;++f){var j=$[f].term;C.indexOf(j)>-1||(N=c("a",j,{"class":I+"-tab "+I+"-tab:"+f,href:g(L.url)+"/search/label/"+r(j),id:I+"-tab:"+_+"."+f,title:j}),k.push(j),M[j]=N,o(N,"click",s),p(T,N),w-1>f&&p(T,t.createTextNode(" ")),p(A.children[2],c("h4",j,{"class":I+"-title"})),p(A.children[2],S[j]=c("ol","",{"class":I+"-panel "+I+"-panel:"+f,id:I+"-panel:"+_+"."+f})))}},e["_"+(_+1)]=function(t){function n(e){if(e){var t=e.published.$t,r=(e.link.find(function(e){return"alternate"===e.rel})||{}).href,n="";if(r){if(j){var i,s,l,o="media$thumbnail"in e;j===!0&&(j=80),a(j)?(i=s=j+"px",j="s"+j+"-c"):(l=/^s(\d+)(\-[cp])?$/.exec(j))?(i=l[1]+"px",s=l[2]?l[1]+"px":"auto"):(l=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(j))&&(i=l[1]+"px",s=l[2]+"px"),n+='<p class="'+I+"-image "+(o?"loading":"no-image")+'">',n+=o?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+j+"/")+'" style="display:block;width:'+i+";height:"+s+';">':'<span class="img" style="display:block;width:'+i+";height:"+s+';">',n+="</p>"}if(n+='<h5 class="'+I+'-title"><a href="'+r+'"'+(C?' target="'+C+'"':"")+">"+e.title.$t+"</a></h5>",L.date&&(n+='<p class="'+I+'-time"><time datetime="'+t+'">'+x(t,L.date)+"</time></p>"),q){var d=e.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").trim(),u=d.length;q===!0&&(q=200),n+='<p class="'+I+"-excerpt"+(u?"":" no-excerpt")+'">'+d.slice(0,q)+(u>q?"&hellip;":"")+"</p>"}return c("li",n,{"class":e.$?"recent":!1})}}}t=t.feed||{};var s,h,g=L.sort,$=((t.link.find(function(e){return"alternate"===e.rel})||{}).href||"").split("/").pop(),w=t.entry||[],N=w.length,k=S[$];for(N&&!f(k,"active")&&M[$].click(),s=0;N>s;++s){var T=s<L.recent?O.recent:"";w[s].$=!!T,w[s].title.$t+=T}a(g)?(g=+g,w=w.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===g&&(w=w.reverse())):i(g)&&(g=e[g],w=w.sort(g));var C=L.target,j=L.image,q=L.excerpt,D="has-title has-url";for(L.date&&(D+=" has-time"),j&&(D+=" has-image"),q&&(D+=" has-excerpt"),d(A,D),s=0;N>s;++s)p(k,n(w[s]));if(j){var E=k.getElementsByTagName("img"),H=function(){d(this.parentNode,"error")},B=function(){u(this.parentNode,"loading")};for(s=0,h=E.length;h>s;++s)o(E[s],"error",H),o(E[s],"load",B)}b()&&v(y("298900102869691923")+m(l(L.query,{callback:"_"+_+"_","max-results":21,orderby:"updated"}))+"&q="+r($.toLowerCase())),S[$].$=!0},e["_"+_+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=list(t))&&(d(t,"ad"),p(ol,t,ol.firstChild))},a(L.load)?e.setTimeout($,+L.load):L.load===!0?o(e,"load",$):$()}(window,document);