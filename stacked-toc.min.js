/*! Accordion TOC for Blogger V2 <https://dte-project.github.io/blogger/stacked-toc.html> */
!function(e,t){function r(e,t){function r(e){return decodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function o(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function l(e,t,r){for(var n,i=t.split("["),a=0,o=i.length;o-1>a;++a)n=i[a].replace(/\]$/,""),e=e[n]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}var s={},c=e.replace(/^.*?\?/,"");return""===c?s:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=r(i[0]),c=n(i[1])?r(i[1]):!0;c=!n(t)||t?o(c):c,"]"===a.slice(-1)?l(s,a,c):s[a]=c}),s)}e[t]=r}(window,"q2o"),function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function o(e){return null!==e&&"object"==typeof e}function l(e,t){t=t||{};for(var r in e)n(t[r])?o(e[r])&&o(t[r])&&(t[r]=l(e[r],t[r])):t[r]=e[r];return t}function s(e,t,r){e.addEventListener(t,r,!1)}function c(e,t){var r,i,a={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(r in a)if(n(e.style[r])){i=a[r];break}i?s(e,i,function(){t(e)}):t(e)}function u(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),o(i))for(var a in i)i[a]!==!1&&e.setAttribute(a,i[a]);return e}function d(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function f(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function h(e,t){return e.classList.contains(t)}function p(e,t,r){e.insertBefore(t,r)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){var n,i=[];for(n in e)i.push(r(n)+"="+r(e[n]));return"?"+i.join(t||"&")}function y(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function v(e){return a(e)?("file:"===S.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":y(e)+"/feeds/posts/summary"}function b(e,t,r){var n=/\.css$/i.test(y(e)),i=u(n?"link":"script","",l(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t(i))}:s(i,"load",t),p(q,i,q.firstChild),i}function x(){if(j!==!1){var e=+(H.getItem(A)||-1);if(e>j)return H.setItem(A,0),!0;H.setItem(A,++e)}return!1}function $(e,t){var r,n=e.split("T"),i=n[0].split("-"),a=n[1].split("+")[0].split(":"),o=+a[0],l=o%12||12,s={"M\\+":O.months[+i[1]-1],"D\\+":O.days[new Date(e).getDay()],"h\\+":o+"",Y:i[0],M:i[1],D:i[2],h:l+"",m:a[1],s:Math.floor(+a[2])+"","\\?":O.midday[12>l||24===l?0:1]};for(r in s)t=t.replace(RegExp("%"+r,"g"),s[r]);return t}function N(){var e=C.container,r=C.css;r&&b(i(r)?r:y(M.src,"css")),b(v(I)+m(l(C.query,{callback:"_"+D,"max-results":0})),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),p(e,R)):p(M.parentNode,R,M),f(R.parentNode,A+"-loading");var r=C.active;a(r)&&(r=k[r]),T[r]&&T[r].click()})}var w,M=t.currentScript||t.getElementsByTagName("script").pop(),T={},k=[],_={},E=9999,S=e.location,H=e.localStorage,L={direction:"ltr",hash:Date.now(),url:S.protocol+"//"+S.host,name:"stacked-toc",css:1,sort:1,ad:!0,toggle:!0,active:0,container:0,date:"%M+ %D, %Y %h:%m %?",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",midday:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published","max-results":E,"start-index":1}},q=t.head,C=l(L,q2o(M.src)),D=C.hash,I=C.id||y(C.url),A=C.name,j=C.ad,O=C.text,R=u("div",'<h3 class="'+A+'-title">'+O.title+"</h3>",{"class":A+" "+C.direction,id:A+":"+D}),F=u("p",O.loading,{"class":A+"-loading"});j===!0&&(j=3);var J=q2o(S.search);n(J[D])&&(delete J[D].url,C=l(C,J[D])),e["_"+D]=function(t){function n(){for(x in _)_[x].offsetHeight&&(_[x].style.height=_[x].scrollHeight+"px")}function o(e){w=this;var t=w.id.split(":")[1],n=w.innerHTML,i=R.parentNode,a=T[n].parentNode,o=_[n];if(-1===C.toggle)for(x in _)x!==n&&!_[x].offsetHeight&&(_[x].style.height=0);else{for(x in T)x!==n&&f(T[x].parentNode,"active");for(x in _)x!==n&&(f(_[x],"active"),_[x].style.height=0)}o.$||(d(a,"loading"),d(o,"loading"),d(i,A+"-loading"),p(R,F,o),b(v(I)+"/-/"+r(n)+m(l(C.query,{callback:"_"+(D+1)})),function(){f(a,"loading"),f(o,"loading"),f(i,A+"-loading"),g(F),o.style.height=o.scrollHeight+"px"},{"class":A+"-js",id:A+"-js:"+t})),h(a,"active")?C.toggle&&(f(a,"active"),f(o,"active"),o.style.height=0):(d(a,"active"),d(o,"active"),o.style.height=o.scrollHeight+"px"),e.preventDefault()}t=t.feed||{};var x,$=C.sort,N=t.entry||[],M=t.category||[],E=(N.length,M.length);a($)?($=+$,M=M.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===$&&(M=M.reverse())):i($)&&($=e[$],M=M.sort($));var S,H,L,q=Object.values(C.hide);for(x=0;E>x;++x){var j=M[x].term;q.indexOf(j)>-1||(S=u("a",j,{href:y(C.url)+"/search/label/"+r(j),title:j}),H=u("h4","",{"class":A+"-header "+A+"-header:"+x+" "+A+"-title",id:A+"-header:"+D+"."+x}),L=u("ol","",{"class":A+"-panel "+A+"-panel:"+x,id:A+"-panel:"+D+"."+x,style:"overflow:hidden;"}),c(L,function(e){e.offsetHeight&&(e.style.height="")}),k.push(j),T[j]=S,s(S,"touchstart",n),s(S,"mousedown",n),s(S,"click",o),p(H,S),p(R,H),p(R,_[j]=L))}},e["_"+(D+1)]=function(t){function n(e){if(e){var t,r=e.published.$t,n="";for(c=0,g=e.link.length;g>c;++c)if("alternate"===e.link[c].rel){t=e.link[c].href;break}if(H){var i,o,l,s="media$thumbnail"in e;H===!0&&(H=80),a(H)?(i=o=H+"px",H="s"+H+"-c"):(l=/^s(\d+)(\-[cp])?$/.exec(H))?(i=l[1]+"px",o=l[2]?l[1]+"px":"auto"):(l=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(H))&&(i=l[1]+"px",o=l[2]+"px"),n+='<p class="'+A+"-image "+(s?"loading":"no-image")+'">',n+=s?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+H+"/")+'" style="display:block;width:'+i+";height:"+o+';">':'<span class="img" style="display:block;width:'+i+";height:"+o+';">',n+="</p>"}if(n+='<h5 class="'+A+'-title"><a href="'+t+'"'+(S?' target="'+S+'"':"")+">"+e.title.$t+"</a></h5>",C.date&&(n+='<p class="'+A+'-time"><time datetime="'+r+'">'+$(r,C.date)+"</time></p>"),L){var d=e.summary.$t.trim().replace(/<.*?>/g,"").replace(/[<>]/g,""),f=d.length;L===!0&&(L=200),n+='<p class="'+A+"-excerpt"+(f?"":" no-excerpt")+'">'+d.slice(0,L)+(f>L?"&hellip;":"")+"</p>"}return u("li",n,{"class":e.$?"recent":!1})}}t=t.feed||{};var o,c,g,y=C.sort,N=w?w.innerHTML:"",M=t.entry||[],T=M.length,k=_[N];for(o=0;T>o;++o){var E=o>C.recent?"":O.recent;M[o].$=!!E,M[o].title.$t+=E}a(y)?(y=+y,M=M.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===y&&(M=M.reverse())):i(y)&&(y=e[y],M=M.sort(y));var S=C.target,H=C.image,L=C.excerpt,q="has-title has-url";for(C.date&&(q+=" has-time"),H&&(q+=" has-image"),L&&(q+=" has-excerpt"),d(R,q),o=0;T>o;++o)p(k,n(M[o]));if(H){var I=k.getElementsByTagName("img"),j=function(){d(this.parentNode,"error")},F=function(){f(this.parentNode,"loading")};for(o=0,c=I.length;c>o;++o)s(I[o],"error",j),s(I[o],"load",F)}x()?(e["_"+D+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=n(t))&&(d(t,"ad"),p(k,t,k.firstChild),h(k,"active")&&(k.style.height=k.scrollHeight+"px"))},b(v("298900102869691923")+m(l(C.query,{callback:"_"+D+"_","max-results":21,orderby:"updated"}))+"&q="+r(N.toLowerCase()))):delete e["_"+D+"_"],_[N].$=!0},a(C.load)?e.setTimeout(N,+C.load):C.load===!0?s(e,"load",N):N()}(window,document);