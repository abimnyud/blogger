/*! Accordion TOC for Blogger V2 <https://dte-project.github.io/blogger/stacked-toc.html> */
!function(e,t){function n(e,t){function n(e){return decodeURIComponent(e)}function r(e){return void 0!==e}function a(e){return"string"==typeof e}function i(e){return a(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function l(e){if(a(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)return+e;if(i(e))try{return JSON.parse(e)}catch(t){}}return e}function s(e,t,n){for(var r,a=t.split("["),i=0,l=a.length;l-1>i;++i)r=a[i].replace(/\]$/,""),e=e[r]||(e[r]={});e[a[i].replace(/\]$/,"")]=n}var o={},c=e.replace(/^.*?\?/,"");return""===c?o:(c.split(/&(?:amp;)?/).forEach(function(e){var a=e.split("="),i=n(a[0]),c=r(a[1])?n(a[1]):!0;c=!r(t)||t?l(c):c,"]"===i.slice(-1)?s(o,i,c):o[i]=c}),o)}e[t]=n}(window,"q2o"),function(e,t){function n(e){return encodeURIComponent(e)}function r(e){return void 0!==e}function a(e){return"string"==typeof e}function i(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function l(e){return null!==e&&"object"==typeof e}function s(e,t){t=t||{};for(var n in e)r(t[n])?l(e[n])&&l(t[n])&&(t[n]=s(e[n],t[n])):t[n]=e[n];return t}function o(e,t,n){e.addEventListener(t,n,!1)}function c(e,t){var n,a,i={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in i)if(r(e.style[n])){a=i[n];break}a?o(e,a,function(){t(e)}):t(e)}function u(e,n,a){if(e=t.createElement(e),r(n)&&""!==n&&(e.innerHTML=n),l(a))for(var i in a)a[i]!==!1&&e.setAttribute(i,a[i]);return e}function d(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.add(n)}function p(e,t){t=t.split(/\s+/);for(var n;n=t.shift();)e.classList.remove(n)}function f(e,t){return e.classList.contains(t)}function h(e,t,n){e.insertBefore(t,n)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){var r,a=[];for(r in e)a.push(n(r)+"="+n(e[r]));return"?"+a.join(t||"&")}function y(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),r(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function g(e){return i(e)?("file:"===T.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":y(e)+"/feeds/posts/summary"}function b(e,t,n){var r=/\.css$/i.test(y(e)),a=u(r?"link":"script","",s(r?{href:e,rel:"stylesheet"}:{src:e},n));return a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t(a))}:o(a,"load",t),h(_,a,_.firstChild),a}function $(){if(R!==!1){var e=+(C.getItem(B)||-1);if(e>R)return C.setItem(B,0),!0;C.setItem(B,++e)}return!1}function w(e,t){var n,r=e.split("T"),a=r[0].split("-"),i=r[1].split("+")[0].split(":"),l=+i[0],s=l%12||12,o={"M\\+":O.months[+a[1]-1],"D\\+":O.days[new Date(e).getDay()],"h\\+":l+"",Y:a[0],M:a[1],D:a[2],h:s+"",m:i[1],s:Math.floor(+i[2])+"","\\?":O.midday[12>s||24===s?0:1]};for(n in o)t=t.replace(RegExp("%"+n,"g"),o[n]);return t}function E(){var e=L.container,n=L.css;n&&b(a(n)?n:y(x.src,"css")),b(g(q)+v(s(L.query,{callback:"_"+D,"max-results":0})),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),h(e,A)):h(x.parentNode,A,x),p(A.parentNode,B+"-loading");var n=L.active;i(n)&&(n=M[n]),I[n]&&I[n].click()})}var N,x=t.currentScript||t.getElementsByTagName("script").pop(),I={},M=[],S={},k=9999,T=e.location,C=e.localStorage,j={direction:"ltr",hash:Date.now(),url:T.protocol+"//"+T.host,name:"stacked-toc",css:1,sort:1,ad:!0,toggle:!0,active:0,container:0,date:"%M+ %D, %Y %h:%m %?",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",midday:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json-in-script",orderby:"published","max-results":k,"start-index":1}},_=t.head,L=s(j,q2o(x.src)),D=L.hash,q=L.id||y(L.url),B=L.name,R=L.ad,O=L.text,A=u("div",'<h3 class="'+B+'-title">'+O.title+"</h3>",{"class":B+" "+L.direction,id:B+":"+D}),H=u("li",O.loading,{"class":B+"-loading"});R===!0&&(R=3);var J=q2o(T.search);r(J[D])&&(delete J[D].url,L=s(L,J[D])),e["_"+D]=function(t){function r(){for($ in S)S[$].offsetHeight&&(S[$].style.height=S[$].scrollHeight+"px")}function l(e){N=this;var t=N.id.split(":")[1],r=N.innerHTML,a=A.parentNode,i=I[r].parentNode,l=S[r];if(-1===L.toggle)for($ in S)$!==r&&!S[$].offsetHeight&&(S[$].style.height=0);else{for($ in I)$!==r&&p(I[$].parentNode,"active");for($ in S)$!==r&&(p(S[$],"active"),S[$].style.height=0)}l.$||(d(i,"loading"),d(l,"loading"),h(l,H),l.style.height=l.scrollHeight+"px",d(a,B+"-loading"),b(g(q)+"/-/"+n(r)+v(s(L.query,{callback:"_"+(D+1)})),function(){p(a,B+"-loading"),p(i,"loading"),p(l,"loading"),m(H),l.style.height=l.scrollHeight+"px"},{"class":B+"-js",id:B+"-js:"+t})),f(i,"active")?L.toggle&&(p(i,"active"),p(l,"active"),l.style.height=0):(d(i,"active"),d(l,"active"),l.style.height=l.scrollHeight+"px"),e.preventDefault()}t=t.feed||{};var $,w=L.sort,E=t.entry||[],x=t.category||[],k=(E.length,x.length);i(w)?(w=+w,x=x.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===w&&(x=x.reverse())):a(w)&&(w=e[w],x=x.sort(w));var T,C,j,_=Object.values(L.hide);for($=0;k>$;++$){var R=x[$].term;_.indexOf(R)>-1||(T=u("a",R,{href:y(L.url)+"/search/label/"+n(R),title:R}),C=u("h4","",{"class":B+"-header "+B+"-header:"+$+" "+B+"-title",id:B+"-header:"+D+"."+$}),j=u("ol","",{"class":B+"-panel "+B+"-panel:"+$,id:B+"-panel:"+D+"."+$,style:"overflow:hidden;"}),c(j,function(e){e.offsetHeight&&(e.style.height="")}),M.push(R),I[R]=T,o(T,"touchstart",r),o(T,"mousedown",r),o(T,"click",l),h(C,T),h(A,C),h(A,S[R]=j))}},e["_"+(D+1)]=function(t){function r(e){if(e){var t,n=e.published.$t,r="";for(o=0,c=e.link.length;c>o;++o)if("alternate"===e.link[o].rel){t=e.link[o].href;break}if(k){var a,l,s,d="media$thumbnail"in e;k===!0&&(k=80),i(k)?(a=l=k+"px",k="s"+k+"-c"):(s=/^s(\d+)(\-[cp])?$/.exec(k))?(a=s[1]+"px",l=s[2]?s[1]+"px":"auto"):(s=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(k))&&(a=s[1]+"px",l=s[2]+"px"),r+='<p class="'+B+"-image"+(d?"":" no-image")+' loading">';var p="this.removeAttribute('",p=","+p+"onload'),"+p+"onerror')";r+=d?'<img class="loading" onload="this.parentNode.classList.remove(\'loading\')'+p+";\" onerror=\"this.parentNode.classList.add('error')"+p+';" alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+k+"/")+'" style="display:block;width:'+a+";height:"+l+';">':'<span class="img" style="display:block;width:'+a+";height:"+l+';">',r+="</p>"}if(r+='<h5 class="'+B+'-title"><a href="'+t+'"'+(M?' target="'+M+'"':"")+">"+e.title.$t+"</a></h5>",L.date&&(r+='<p class="'+B+'-time"><time datetime="'+n+'">'+w(n,L.date)+"</time></p>"),T){var f=e.summary.$t.trim().replace(/<.*?>/g,"").replace(/[<>]/g,""),h=f.length;T===!0&&(T=200),r+='<p class="'+B+"-excerpt"+(h?"":" no-excerpt")+'">'+f.slice(0,T)+(h>T?"&hellip;":"")+"</p>"}return u("li",r,{"class":e.$?"recent":!1})}}t=t.feed||{};var l,o,c,p=L.sort,m=N?N.innerHTML:"",y=t.entry||[],E=y.length,x=S[m];for(l=0;E>l;++l){var I=l>L.recent?"":O.recent;y[l].$=!!I,y[l].title.$t+=I}i(p)?(p=+p,y=y.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===p&&(y=y.reverse())):a(p)&&(p=e[p],y=y.sort(p));var M=L.target,k=L.image,T=L.excerpt,C="has-title has-url";for(L.date&&(C+=" has-time"),k&&(C+=" has-image"),T&&(C+=" has-excerpt"),d(A,C),l=0;E>l;++l)h(x,r(y[l]));$()?(e["_"+D+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=r(t))&&(d(t,"ad"),h(x,t,x.firstChild),f(x,"active")&&(x.style.height=x.scrollHeight+"px"))},b(g("298900102869691923")+v(s(L.query,{callback:"_"+D+"_","max-results":21,orderby:"updated"}))+"&q="+n(m.toLowerCase()))):delete e["_"+D+"_"],S[m].$=!0},i(L.load)?e.setTimeout(E,+L.load):L.load===!0?o(e,"load",E):E()}(window,document);